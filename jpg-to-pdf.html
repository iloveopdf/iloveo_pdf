<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JPG to PDF Online - Working Tool | IloveoPDF</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- PDF banane wali library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .upload-area { border: 3px dashed #eab308; transition: 0.3s; }
        .upload-area:hover { background: #fefce8; transform: translateY(-3px); }
    </style>
</head>
<body class="bg-slate-50">

    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b border-orange-100 h-20 flex items-center">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <a href="index.html">
                <!-- LOGO FIX: Check karein aapki file ka naam GitHub par kya hai -->
                <img src="input_file_0.png" alt="IloveoPDF" class="h-12" onerror="this.src='https://via.placeholder.com/150x50?text=IloveoPDF+Logo'">
            </a>
            <div class="space-x-4 font-bold text-sm uppercase">
                <a href="index.html" class="text-slate-600">Home</a>
                <a href="merge-pdf.html" class="text-slate-600">Merge</a>
                <a href="jpg-to-pdf.html" class="text-orange-600">JPG to PDF</a>
            </div>
        </div>
    </nav>

    <main class="container mx-auto px-4 py-16 text-center">
        <h1 class="text-4xl font-black mb-4">JPG TO PDF</h1>
        <p class="text-slate-500 mb-10">Convert your images to PDF in one click.</p>

        <!-- Tool Box -->
        <div id="drop-area" class="upload-area bg-white max-w-2xl mx-auto rounded-3xl p-16 shadow-2xl cursor-pointer">
            <div id="loader" class="hidden mb-4 text-orange-500 font-bold italic">Processing... Please wait...</div>
            
            <i class="fas fa-images text-6xl text-yellow-500 mb-6"></i>
            <br>
            <button id="selectBtn" class="bg-yellow-500 text-white text-xl font-bold px-10 py-5 rounded-2xl shadow-lg hover:bg-slate-900 transition">
                Select JPG images
            </button>
            <p class="mt-4 text-slate-400">or drop images here</p>
            <input type="file" id="imageInput" class="hidden" multiple accept="image/jpeg, image/png">
        </div>
    </main>

    <script>
        const { jsPDF } = window.jspdf;
        const imageInput = document.getElementById('imageInput');
        const dropArea = document.getElementById('drop-area');
        const loader = document.getElementById('loader');

        dropArea.onclick = () => imageInput.click();

        imageInput.onchange = async (e) => {
            const files = e.target.files;
            if (files.length === 0) return;

            loader.classList.remove('hidden');
            const pdf = new jsPDF();

            for (let i = 0; i < files.length; i++) {
                const imgData = await readFileAsDataURL(files[i]);
                
                // Naya page add karein agar pehla page nahi hai toh
                if (i > 0) pdf.addPage();
                
                // Image ko PDF mein set karein
                const imgProps = pdf.getImageProperties(imgData);
                const pdfWidth = pdf.internal.pageSize.getWidth();
                const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;
                
                pdf.addImage(imgData, 'JPEG', 0, 0, pdfWidth, pdfHeight);
            }

            pdf.save("iloveopdf-converted.pdf");
            loader.classList.add('hidden');
            alert("Success! Your PDF has been downloaded.");
        };

        function readFileAsDataURL(file) {
            return new Promise((resolve) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.readAsDataURL(file);
            });
        }
    </script>
</body>
</html>
